!function(){"use strict";angular.module("frispo",["ngAnimate","ngCookies","ngSanitize","ngMessages","ui.router","puigcerber.camelize","toastr","ezfb","ui.bootstrap"])}(),function(){"use strict";function e(e){function t(t,r){var n=this;n.destroy=function(){r.open({templateUrl:"app/pages/events/destroy/destroy.html",controller:"EventDestroyController",controllerAs:"eventDestroy",windowClass:"modal-danger"}).result.then(function(t){t===!0&&e.destroy(n.event)})},n.models=t}function r(t,r,n,a){r.hover(function(){t.$apply(function(){a.showControls=!0})},function(){t.$apply(function(){a.showControls=!1})}),angular.element("#event-edit-form-"+a.event.evenId).on("show.bs.collapse",function(){e.show(a.event.evenId),e.listRegions(a.event.evenId)})}t.$inject=["models","$uibModal"],r.$inject=["scope","el","attrs","vm"];var n={restrict:"EA",templateUrl:"app/pages/events/show/show.html",controller:t,controllerAs:"eventShow",bindToController:!0,replace:!0,link:r,scope:{event:"=eventShow"}};return n}e.$inject=["events"],angular.module("frispo").directive("eventShow",e)}(),function(){"use strict";function e(e){var t=this;t.ok=function(){e.close(!0)},t.cancel=function(){e.dismiss()}}e.$inject=["$uibModalInstance"],angular.module("frispo").controller("EventRecreateCalendarController",e)}(),function(){"use strict";function e(){function e(e,t,r,n){var a=this;a.models=e,a.submit=function(){return t.form2Event(a.form).then(function(e){return t.update(a.event.evenId,e)})},a.publish=function(){return t.update(a.event.evenId,{even_stato_evento:1})},a.unpublish=function(){return t.update(a.event.evenId,{even_stato_evento:0})},a.recreateCalendar=function(){n.open({templateUrl:"app/pages/events/edit/recreateCalendar.html",controller:"EventRecreateCalendarController",controllerAs:"eventRecreateCalendar",windowClass:"modal-warning"}).result.then(function(e){return e===!0?r.createCalendar(a.event.evenId).then(function(){return t.show(a.event.evenId)}):void 0})}}function t(e,t,r,n){n.cancel=function(){t.find(".accordion-body").collapse("hide")},e.$watch("eventEdit.event.evenCurrentDay",function(e,t){angular.isDefined(e)&&e!==t&&(n.form.currentDay=n.event.evenCurrentDay)})}e.$inject=["models","events","matches","$uibModal"];var r={restrict:"EA",templateUrl:"app/pages/events/edit/edit.html",controller:e,controllerAs:"eventEdit",link:t,bindToController:!0,replace:!0,scope:{event:"=eventEdit"}};return r}angular.module("frispo").directive("eventEdit",e)}(),function(){"use strict";function e(e){var t=this;t.ok=function(){e.close(!0)},t.cancel=function(){e.dismiss()}}e.$inject=["$uibModalInstance"],angular.module("frispo").controller("EventDestroyController",e)}(),function(){"use strict";function e(){function e(){}function t(e,t,r,n){n.step===n.wizard.currentStep?n.active=!0:(t.find(".wizard-step-box").first().addClass("collapsed-box"),t.find(".box-body").first().hide()),e.$watch("wizardStepBox.wizard.currentStep",function(e,r){e!==r&&(e!==n.step||n.active?e!==n.step&&n.active&&(n.active=!1,angular.element.AdminLTE.boxWidget.collapse(t.find("[data-widget]"))):(n.active=!0,angular.element.AdminLTE.boxWidget.collapse(t.find("[data-widget]"))))})}var r={restrict:"E",templateUrl:"app/components/wizard/wizardStepBox/wizardStepBox.html",controller:e,controllerAs:"wizardStepBox",bindToController:!0,scope:{wizard:"=",step:"=",title:"@"},link:t,transclude:!0};return r}angular.module("frispo").directive("wizardStepBox",e)}(),function(){"use strict";function e(){function e(){var e=this;e.range=function(e){return new Array(e)}}var t={restrict:"E",templateUrl:"app/components/wizard/wizardProgress/wizardProgress.html",controller:e,controllerAs:"wizardProgress",bindToController:!0,scope:{wizard:"="}};return t}angular.module("frispo").directive("wizardProgress",e)}(),function(){"use strict";function e(e,t,r,n){var a=this;a.models=e,a.updateCurrentEvent=function(){if(e.currentEvent){for(var t=0;t<e.events.length;t++)if(e.events[t].evenId===e.currentEvent.evenId){e.currentEvent=e.events[t];break}return a.setLoading(e.currentEvent.evenId).then(r.list)["finally"](a.unsetLoading)}},a.setLoading=function(e){return a.loading=!0,n.resolve(e)},a.unsetLoading=function(e){return a.loading=!1,n.resolve(e)},t.list().then(a.updateCurrentEvent)}e.$inject=["models","events","teams","$q"],angular.module("frispo").controller("TeamsController",e)}(),function(){"use strict";function e(){}angular.module("frispo").controller("ScoreboardController",e)}(),function(){"use strict";function e(e,t,r){var n=this;n.user=n.user||{},n.register=function(){e.register(n.user).then(function(e){t.success(e.email+", you have been succesfully registered!","Registration complete"),r.go("main.admin.dashboard")})}}e.$inject=["users","toastr","$state"],angular.module("frispo").controller("RegisterController",e)}(),function(){"use strict";function e(){}angular.module("frispo").controller("NewsController",e)}(),function(){"use strict";function e(e,t,r,n){var a=this;a.user=a.user||{},a.login=function(){e.login(a.user)},a.loginFacebook=function(){n.login(null,{scope:"email,public_profile"})}}e.$inject=["users","toastr","$state","ezfb"],angular.module("frispo").controller("LoginController",e)}(),function(){"use strict";function e(e,t){var r=this;r.models=e,r.tableFilters=[{eventFilter:{evenStatoEvento:"0"},title:"Eventi non pubblicati",boxClass:"box-warning"},{eventFilter:{evenStatoEvento:"1"},title:"Eventi pubblicati",boxClass:"box-success"}],t.list()}e.$inject=["models","events"],angular.module("frispo").controller("EventsController",e)}(),function(){"use strict";function e(){}angular.module("frispo").controller("DisciplinaryController",e)}(),function(){"use strict";function e(){}angular.module("frispo").controller("DashboardController",e)}(),function(){"use strict";function e(e,t,r,n,a,o,s,i,l){var c=this;c.wizard=new e({totalSteps:3,startFromStep:1}),c.forceManualRounds=!0,c.roundNames=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],c.initDefaultTeams=function(){c.step2.teams||(c.step2.teams=[],c.addTeam(),c.addTeam())},c.addTeam=function(){c.step2&&1===c.step2.roundType?c.step2.teams.push({name:""}):c.step2.teams.push({name:"",round:""})},c.removeTeam=function(e){c.step2.teams.length<=2?n.error("E' obbligatorio inserire almeno 2 squadre","Impossibile rimuovere la squadra"):c.step2.teams.splice(e,1)},c.step1Done=function(){c.step2||(c.step2={}),1!=c.step1.type?(c.step2.roundType="1",c.initDefaultTeams()):c.forceManualRounds&&(c.step2.roundType="0",c.initDefaultTeams()),c.wizard.next()},c.submitStep1=function(){return s.info("creando l'evento.."),t.form2Event(c.step1).then(t.create)},c.step2Done=function(){c.wizard.next()},c.submitStep2=function(){return s.info("creando le squadre.."),a.form2Teams(c.step2).then(a.addGroup)},c.step3Done=function(){c.submitWizard()},c.submitStep3=function(){return s.info("creando il calendario.."),o.createCalendar(l.currentEvent.evenId)},c.submitWizard=function(){c.wizard.loading=!0,c.submitStep1().then(c.submitStep2).then(c.submitStep3).then(function(){i.go("main.admin.events")})["finally"](function(){c.wizard.loading=!1})}}e.$inject=["Wizard","events","resPipe","toastr","teams","matches","$log","$state","models"],angular.module("frispo").controller("CreateEventController",e)}(),function(){"use strict";function e(e,t,r,n){var a=this;a.models=e,a.updateCurrentEvent=function(){if(e.currentEvent){for(var r=0;r<e.events.length;r++)if(e.events[r].evenId===e.currentEvent.evenId){e.currentEvent=e.events[r];break}return a.setLoading(e.currentEvent.evenId).then(t.show).then(a.updateMatchDay)["finally"](a.unsetLoading)}},a.updateMatchDay=function(){if(e.currentEvent&&e.currentEvent.matchDays&&0!==e.currentEvent.matchDays.length){if(e.currentEvent.currentDay){for(var t=0;t<e.currentEvent.matchDays.length;t++)if(e.currentEvent.matchDays[t].matcDayId===a.models.currentEvent.currentDay.matcDayId){a.models.currentEvent.currentDay=e.currentEvent.matchDays[t];break}}else e.currentEvent.currentDay=e.currentEvent.matchDays[0];return a.setLoading(e.currentEvent.currentDay.matcDayId).then(r.list)["finally"](a.unsetLoading)}},a.setLoading=function(e){return a.loading=!0,n.resolve(e)},a.unsetLoading=function(e){return a.loading=!1,n.resolve(e)},t.list().then(a.updateCurrentEvent)}e.$inject=["models","events","matches","$q"],angular.module("frispo").controller("CalendarController",e)}(),function(){"use strict";function e(){return function(e){return"Step "+e.currentStep+" di "+e.totalSteps}}angular.module("frispo").filter("wizardTextProgress",e)}(),angular.module("frispo").factory("Wizard",function(){var e={totalSteps:1,startFromStep:1};return function(t){this.options=angular.merge(e,t),this.totalSteps=this.options.totalSteps,this.currentStep=this.options.startFromStep,this.next=function(){this.currentStep<this.totalSteps&&this.currentStep++},this.prev=function(){this.currentStep>1&&this.currentStep--}}}),angular.module("frispo").factory("utils",function(){var e={str2Date:function(e){var t=[],r=e.split("->");return angular.forEach(r,function(e){var r=e.split("/");return 3!==r.length?null:void t.push(r[2].trim()+"-"+r[1].trim()+"-"+r[0].trim())}),1===t.length?t[0]:t},date2Str:function(t,r){if(!t)return null;var n=t.split("-");if(3!==n.length)return null;var a=n[2].trim()+"/"+n[1].trim()+"/"+n[0].trim();return r&&(a+=" -> "+e.date2Str(r)),a},str2Time:function(e){var t=null,r=e.trim().split(" ");if(2==r.length){var n=r[0].trim().split(":"),a="PM"==r[1]?12:0;2==n.length&&(t=+n[0]+a+":"+n[1])}return t}};return e}),angular.module("frispo").factory("uiState",function(){var e={};return e}),function(){"use strict";function e(){function e(e,t){t.timepicker()}e.$inject=["scope","el"];var t={restrict:"A",link:e};return t}angular.module("frispo").directive("timepicker",e)}(),function(){"use strict";function e(){function e(e,t){var r=!1,n=angular.element(e.showOnHover);e.$watch("showOnHover",function(){n.removeClass("show-on-hover-target").removeClass("not-visible").removeClass("show-animate"),n=angular.element(e.showOnHover),n.addClass("show-on-hover-target"),e.showAnimate&&n.addClass("show-animate"),e.updateVisibility()}),e.updateVisibility=function(){r?n.removeClass("not-visible"):n.addClass("not-visible")},t.hover(function(){r||(r=!0,e.updateVisibility())},function(){r&&(r=!1,e.updateVisibility())})}var t={restrict:"A",link:e,scope:{showOnHover:"@",showAnimate:"="}};return t}angular.module("frispo").directive("showOnHover",e)}(),angular.module("frispo").factory("resPipe",["$q","$filter","models","longTermMemory","$log","utils",function(e,t,r,n,a,o){var s={parseResponse:function(t){switch(t.status_code){case 200:return t.data;default:return e.reject({error:t.error})}},unwrapArray:function(e){return angular.isArray(e)&&1===e.length?e[0]:e},camelize:function(e){var r;return angular.isArray(e)?(r=[],angular.forEach(e,function(e){r.push(s.camelize(e))}),r):angular.isObject(e)?(r={},angular.forEach(e,function(e,n){r[t("camelize")(n)]=s.camelize(e)}),r):e},injectUserDefaults:function(e){return e.loggedIn=!0,e.displayName=e.displayName||e.email||e.name||"Nome Cognome",e},updateCurrentUser:function(e){return r.currentUser=e,e},mockAnonymousUser:function(e){return e.accessToken="4e66c966e021918f0b088ddc929847f7",e.uuid="",e},memorizeCurrentUser:function(e){return n.memorize("currentUser",r.currentUser),e},injectEventsDefaults:function(e){if(angular.isArray(e)){var t=[];return angular.forEach(e,function(e){t.push(s.injectEventsDefaults(e))}),t}if(0===e.evenFormula?e.evenFormulaPretty="Andata e ritorno":1===e.evenFormula&&(e.evenFormulaPretty="Solo andata"),0===e.evenType?e.evenTypePretty="Campionato italiana":1===e.evenType&&(e.evenTypePretty="Torneo a giorni"),!e.dates&&e.evenDateStart&&e.evenDateEnd&&(e.dates=o.date2Str(e.evenDateStart,e.evenDateEnd)),angular.isUndefined(e.evenStatoEvento)&&(e.evenStatoEvento=0),angular.isNumber(e.evenDayActive)&&angular.isArray(e.matchDays))for(var r=0;r<e.matchDays.length;r++)if(e.matchDays[r].matcDayId===e.evenDayActive){e.evenCurrentDay=e.matchDays[r];break}return e.search=[e.evenName,e.evenTypePretty,e.evenFormulaPretty,e.regions&&e.regions.regiName||"",e.evenCode,e.evenSeason].join(" "),angular.isArray(e.matchDays)&&e.matchDays.sort(function(e,t){return e.matcProg>t.matcProg}),e},updateEvents:function(e){return r.events=e,e},removeEvent:function(e){var t=-1;for(t=0;t<r.events.length&&r.events[t].evenId!==e.evenId;t++);return t>=0&&t<r.events.length&&r.events.splice(t,1),e},memorizeEvents:function(e){return n.memorize("events",r.events),e},updateRegions:function(e){return r.regions=e,e},memorizeRegions:function(e){return n.memorize("regions",r.regions),e},updateCurrentEvent:function(e){if(angular.isArray(r.events))for(var t=0;t<r.events.length;t++)if(r.events[t].evenId===e.evenId)return angular.merge(r.events[t],e),r.currentEvent=r.events[t],r.currentEvent;return r.currentEvent=e,e},memorizeCurrentEvent:function(e){return n.memorize("currentEvent",r.currentEvent),e},updateMatches:function(e){if(!r.currentEvent||!angular.isArray(r.currentEvent.matchDays))return e;var t={},n=function(e){for(var n=0;n<r.currentEvent.matchDays.length;n++){var a=r.currentEvent.matchDays[n];if(e.matcDayId===a.matcDayId){t[e.matcDayId+""]?a.matches.push(e):a.matches=[e],t[a.matcDayId+""]=!0;break}}};return angular.isArray(e)?angular.forEach(e,n):n(e),e},updateTeams:function(e){return r.currentEvent&&(r.currentEvent.teams=e),e},log:function(e){return a.info(e),e},"debugger":function(e){return e}};return s}]),angular.module("frispo").factory("longTermMemory",function(){var e=["currentUser","events","regions","currentEvent"],t={memorize:function(t,r){e.indexOf(t)<0||(localStorage[t]=angular.toJson(r))},remember:function(t){if(e.indexOf(t)<0)return null;try{return angular.fromJson(localStorage[t])}catch(r){return delete localStorage[t],null}},forget:function(t){return e.indexOf(t)<0?null:void delete localStorage[t]},oblivion:function(){angular.forEach(e,function(e){delete localStorage[e]}),localStorage.clear()}};return t}),function(){"use strict";function e(){function e(e,t){var r=this;r.models=e,r.state=t,r.manageMenuEntries=["main.admin.createEvent","main.admin.events","main.admin.teams","main.admin.calendar","main.admin.scoreboard"]}e.$inject=["models","$state"];var t={restrict:"E",templateUrl:"app/components/frispoSidebar/frispoSidebar.html",controller:e,controllerAs:"sidebar",bindToController:!0};return t}angular.module("frispo").directive("frispoSidebar",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.models=e}e.$inject=["models"];var t={restrict:"E",templateUrl:"app/components/frispoHeader/frispoHeader.html",controller:e,controllerAs:"header",bindToController:!0};return t}angular.module("frispo").directive("frispoHeader",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.models=e}e.$inject=["models"];var t={restrict:"E",templateUrl:"app/components/frispoFooter/frispoFooter.html",controller:e,controllerAs:"footer",bindToController:!0};return t}angular.module("frispo").directive("frispoFooter",e)}(),angular.module("frispo").factory("frispoApi",["$q","$http","usersApiUrl","eventsApiUrl","teamsApiUrl","matchesApiUrl","consumerKey","consumerSecret","models",function(e,t,r,n,a,o,s,i,l){var c={},d={cacheOrHttp:function(r,n,a,o,s){var i=r+n+(a?angular.toJson(a):""),l={};if(r&&(l.method=r.toUpperCase()),n&&(l.url=n),a&&(l.data=a),o&&(l.headers=o),!c[i]){var d,m=!1;switch(r){case"get":case"GET":case"post":case"POST":case"put":case"PUT":case"patch":case"PATCH":case"delete":case"DELETE":d=t(l);break;default:m=!0,d=e.reject()}m||(c[i]=d["finally"](function(t,r){return s||delete c[i],r?e.reject(r):t?t:void 0}))}return c[i]},userApiCall:function(e,t,n,a){return t=t||"/",d.cacheOrHttp(e,r+t,angular.merge({consumer_key:s,consumer_secret:i},n),angular.merge({Authorization:"Basic ZnJpc3BvOmZyMXNwMA=="},a))},eventsApiCall:function(e,t,r,a,o){return t=t||"/",d.cacheOrHttp(e,n+t,r,angular.merge({Authorization:"Bearer "+l.currentUser.accessToken},a),o)},teamsApiCall:function(e,t,r,n,o){return r=r||"/",d.cacheOrHttp(t,a+"/events/"+e+"/teams"+r,n,angular.merge({Authorization:"Bearer "+l.currentUser.accessToken},o))},matchesApiCall:function(e,t,r,n,a){return r=r||"/",d.cacheOrHttp(t,o+"/event/"+e+r,n,angular.merge({Authorization:"Bearer "+l.currentUser.accessToken},a))},expect200:function(t){return 200===t.status?t.data:e.reject(t)},unwrapData:function(e){return e.data}},m={register:function(e){return d.userApiCall("post","/create",{email:e.email,password:e.password}).then(d.expect200)},login:function(e){return d.userApiCall("post","/login",{email:e.email,password:e.password}).then(d.expect200)},loginFacebook:function(e){return d.userApiCall("post","/login_facebook",{facebook_token:e.authResponse.accessToken}).then(d.expect200)},logout:function(e){return d.userApiCall("post","/logout",{access_token:e.accessToken,anonymous_user:"siteweb"}).then(d.expect200)},listEvents:function(){return d.eventsApiCall("get","/events/"+l.currentUser.uuid).then(d.expect200)},createEvent:function(e){return d.eventsApiCall("post","/events/add/"+l.currentUser.uuid,e).then(d.expect200)},updateEvent:function(e,t){return d.eventsApiCall("post","/events/"+e+"/edit/"+l.currentUser.uuid,t).then(d.expect200)},destroyEvent:function(e){return d.eventsApiCall("delete","/events/"+e.evenId+"/remove/"+l.currentUser.uuid).then(d.expect200)},showEvent:function(e){return d.eventsApiCall("get","/event/"+e+"/"+l.currentUser.uuid).then(d.expect200)},listRegions:function(){return d.eventsApiCall("get","/regions/"+l.currentUser.uuid,null,null,!0).then(d.expect200)},listTeams:function(e){return d.teamsApiCall(e,"get","/"+l.currentUser.uuid).then(d.expect200)},addGroupTeams:function(e,t){return d.teamsApiCall(e,"post","/add_group_teams/"+l.currentUser.uuid,t).then(d.expect200)},createMatchesCalendar:function(e){return d.matchesApiCall(e,"post","/match/create_calendar/"+l.currentUser.uuid).then(d.expect200)},listMatches:function(e,t){return d.matchesApiCall(e,"get","/day/"+t+"/matches/"+l.currentUser.uuid).then(d.expect200)}};return m}]),angular.module("frispo").factory("errorManager",["toastr","$log","$state","$q","longTermMemory","models",function(e,t,r,n,a,o){var s=function(s){if(t.error(s),angular.isObject(s)&&s.status)switch(s.status){case 401:r.go("main.logout"),s=s.data;break;case 403:r.go("main.home"),s=s.data;break;case 422:s=s.data;break;case 404:s=s.data;break;case 413:s="Il file che stai cercando di caricare è troppo grande";break;case-1:s="Il server non è raggiungibile o non sei connesso ad Internet"}var i=function(e){if(angular.isString(e))return e;if(angular.isObject(e)&&(e.full_messages||e.error_description||e.errors||e.data||e.msg||e.error))return i(e.full_messages||e.error_description||e.errors||e.data||e.msg||e.error);if(angular.isArray(e)){for(var t=[],r=0;r<e.length;r++)t[r]=i(e[r]);return i(t.join("<br>"))}return a.oblivion(),o.reset(),"Si è verificato un errore imprevisto. Si prega di riprovare più tardi."};return e.error(i(s),"Errore"),n.reject(s)};return s}]),function(){"use strict";function e(){function e(e,t){e.watchInput=function(){e.$watch("model",function(){e.drp.elementChanged()})},"range"===e.datepicker?(e.drp=t.daterangepicker({autoUpdateInput:!1,locale:{format:"DD/MM/YYYY",separator:" -> "}}).data("daterangepicker"),t.on("apply.daterangepicker",function(t,r){e.$apply(function(){e.model=r.startDate.format("DD/MM/YYYY")+" -> "+r.endDate.format("DD/MM/YYYY")})}),t.on("cancel.daterangepicker",function(){e.$apply(function(){e.model=""})}),e.watchInput()):(e.drp=t.daterangepicker({autoUpdateInput:!1,singleDatePicker:!0,locale:{format:"DD/MM/YYYY",separator:" -> "}}).data("daterangepicker"),t.on("apply.daterangepicker",function(t,r){e.$apply(function(){e.model=r.startDate.format("DD/MM/YYYY")})}),t.on("cancel.daterangepicker",function(){e.$apply(function(){e.model=""})}),e.watchInput())}e.$inject=["scope","el"];var t={restrict:"A",link:e,scope:{datepicker:"@",model:"="}};return t}angular.module("frispo").directive("datepicker",e)}(),function(){"use strict";function e(){function e(e,t,r,n){n.$validators.compareTo=function(t){return t==e.otherModelValue},e.$watch("otherModelValue",function(){n.$validate()})}e.$inject=["scope","element","attrs","ngModel"];var t={restrict:"A",require:"ngModel",scope:{otherModelValue:"=compareTo"},link:e};return t}angular.module("frispo").directive("compareTo",e)}(),angular.module("frispo").factory("users",["frispoApi","errorManager","models","longTermMemory","resPipe","toastr","$state","$q","ezfb","$log",function(e,t,r,n,a,o,s,i,l,c){var d={register:function(r){return e.register(r).then(a.parseResponse).then(a.unwrapArray).then(function(e){return e.email=r.email,e}).then(a.camelize).then(a.injectUserDefaults).then(a.updateCurrentUser).then(a.memorizeCurrentUser).then(function(e){return c.info("Frispo registration"),e})["catch"](t)},login:function(r){return e.login(r).then(a.parseResponse).then(a.unwrapArray).then(function(e){return e.email=r.email,e}).then(a.camelize).then(a.injectUserDefaults).then(a.updateCurrentUser).then(a.memorizeCurrentUser).then(d.onLoggedIn)["catch"](t)},logout:function(a){return a.loggedIn?e.logout(r.currentUser).then(function(e){return o.success("Succesfully logged out","Logout"),c.info("Frispo logout"),e})["catch"](t)["finally"](function(){r.currentUser={},n.forget("currentUser"),s.go("main.login")}).then(function(){l.logout()}):i.resolve(a)},loginFacebook:function(r){return e.loginFacebook(r).then(a.parseResponse).then(a.unwrapArray).then(a.camelize).then(a.injectUserDefaults).then(a.updateCurrentUser).then(a.memorizeCurrentUser).then(d.onLoggedIn)["catch"](t)},onLoggedIn:function(e){return o.success("Benvenuto, "+e.displayName+"!","Accesso effettuato"),("main.login"===s.current.name||"main.register"===s.current.name)&&s.go("main.admin.dashboard"),c.info("Frispo login"),e},setAnonymousUser:function(e){return r.bkp={uuid:r.currentUser.uuid,accessToken:r.currentUser.accessToken},r.currentUser.uuid="anonimo",r.currentUser.accessToken="4e66c966e021918f0b088ddc929847f7",i.resolve(e)},unsetAnonymousUser:function(e){return r.currentUser.uuid=r.bkp.uuid,r.currentUser.accessToken=r.bkp.accessToken,delete r.bkp,i.resolve(e)}};return d}]),angular.module("frispo").factory("teams",["frispoApi","errorManager","resPipe","$q","models","utils",function(e,t,r,n,a,o){var s={list:function(){return e.listTeams(a.currentEvent.evenId).then(r.parseResponse).then(r.camelize).then(r.updateTeams).then(r.memorizeCurrentEvent).then(r.memorizeEvents)["catch"](t)},addGroup:function(n){return e.addGroupTeams(a.currentEvent.evenId,n).then(r.parseResponse).then(r.unwrapArray).then(r.camelize)["catch"](t)},form2Teams:function(e){var t={extra:[]};return angular.forEach(e.teams,function(e){var r={},n=o.str2Time(e.time);e.captain&&(r.team_captain=e.captain),n&&(r.team_time=n),e.name&&(r.team_name=e.name),e.phone&&(r.team_mobile_phone=e.phone),e.place&&(r.team_place=e.place),e.round&&(r.team_groups=e.round),e.desc&&(r.team_description=e.desc),t.extra.push(r)}),n.resolve(t)}};return s}]),angular.module("frispo").factory("models",["longTermMemory",function(e){var t={reset:function(){t.events=e.remember("events")||[],t.regions=e.remember("regions")||[],t.currentUser=e.remember("currentUser")||{},t.currentEvent=t.events.length>0&&e.remember("currentEvent")||void 0}};return t.reset(),t}]),angular.module("frispo").factory("matches",["frispoApi","errorManager","resPipe","models",function(e,t,r,n){var a={createCalendar:function(r){return e.createMatchesCalendar(r)["catch"](t)},list:function(a){return e.listMatches(n.currentEvent.evenId,a).then(r.parseResponse).then(r.camelize).then(r.updateMatches).then(r.memorizeCurrentEvent)["catch"](t)}};return a}]),angular.module("frispo").factory("events",["frispoApi","errorManager","resPipe","$q","utils",function(e,t,r,n,a){var o={list:function(){return e.listEvents().then(r.parseResponse).then(r.camelize).then(r.injectEventsDefaults).then(r.updateEvents).then(r.memorizeEvents)["catch"](t)},create:function(n){return e.createEvent(n).then(r.parseResponse).then(r.unwrapArray).then(r.camelize).then(r.injectEventsDefaults).then(r.updateCurrentEvent).then(r.memorizeCurrentEvent)["catch"](t)},show:function(n){return e.showEvent(n).then(r.parseResponse).then(r.unwrapArray).then(r.camelize).then(r.injectEventsDefaults).then(r.updateCurrentEvent).then(r.memorizeCurrentEvent).then(r.memorizeEvents)["catch"](t)},destroy:function(n){return e.destroyEvent(n).then(r.parseResponse).then(function(){return n}).then(r.removeEvent).then(r.memorizeEvents)["catch"](t)},update:function(n,a){return e.updateEvent(n,a).then(r.parseResponse).then(function(){return o.show(n)})["catch"](t)},listRegions:function(){return e.listRegions().then(r.parseResponse).then(r.camelize).then(r.updateRegions).then(r.memorizeRegions)["catch"](t)},form2Event:function(e){var t={},r=a.str2Date(e.dates);return angular.isDefined(e.name)&&(t.even_name=e.name),angular.isDefined(e.desc)&&(t.even_description=e.desc),angular.isDefined(e.email)&&(t.even_email=e.email),angular.isDefined(e.address)&&(t.even_address=e.address),angular.isDefined(e.type)&&(t.even_type=+e.type),angular.isDefined(e.organizer)&&(t.even_organize_by=e.organizer),angular.isDefined(e.formula)&&(t.even_formula=+e.formula),angular.isDefined(e.telephone)&&(t.even_mobile_phone=e.telephone),angular.isArray(r)&&r.length>0&&r[0]&&(t.even_date_start=r[0]),angular.isArray(r)&&r.length>1&&r[1]&&(t.even_date_end=r[1]),e.region&&e.region.regiId?t.regi_id=e.region.regiId:t.regi_id=1,e.currentDay&&e.currentDay.matcDayId&&(t.even_day_active=e.currentDay.matcDayId),n.resolve(t)}};return o}]),function(){"use strict";function e(e,t,r,n,a,o,s){e.uiState=t;var i=e.$on("$stateChangeSuccess",function(e,n){var a=n.params||{};t.bodyClasses=a.bodyClasses||r});n.Event.subscribe("auth.login",function(e){a.info("Facebook login"),o.loginFacebook(e)}),n.Event.subscribe("auth.logout",function(){a.info("Facebook logout"),s.currentUser.loggedIn&&o.logout()}),n.getLoginStatus(),e.$on("$destroy",function(){i()})}e.$inject=["$rootScope","uiState","defaultBodyClasses","ezfb","$log","users","models"],angular.module("frispo").run(e)}(),function(){"use strict";function e(e,t){var r=function(e,t,r){r.currentUser.loggedIn||e(function(){t.go("main.login")})};r.$inject=["$timeout","$state","models"],e.state("main",{"abstract":!0,templateUrl:"app/pages/main/main.html"}).state("main.admin",{"abstract":!0,templateUrl:"app/pages/admin/admin.html",onEnter:r}).state("main.admin.dashboard",{url:"/",templateUrl:"app/pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",onEnter:r}).state("main.admin.createEvent",{url:"/create-event",templateUrl:"app/pages/createEvent/createEvent.html",controller:"CreateEventController",controllerAs:"vm",onEnter:r}).state("main.admin.events",{url:"/events",templateUrl:"app/pages/events/events.html",controller:"EventsController",controllerAs:"vm",onEnter:r}).state("main.admin.teams",{url:"/teams",templateUrl:"app/pages/teams/teams.html",controller:"TeamsController",controllerAs:"vm",onEnter:r}).state("main.admin.calendar",{url:"/calendar",templateUrl:"app/pages/calendar/calendar.html",controller:"CalendarController",controllerAs:"vm",onEnter:r}).state("main.admin.scoreboard",{url:"/scoreboard",templateUrl:"app/pages/scoreboard/scoreboard.html",controller:"ScoreboardController",controllerAs:"vm",onEnter:r}).state("main.admin.news",{url:"/news",templateUrl:"app/pages/news/news.html",controller:"NewsController",controllerAs:"vm",onEnter:r}).state("main.admin.disciplinary",{url:"/disciplinary",templateUrl:"app/pages/disciplinary/disciplinary.html",controller:"DisciplinaryController",controllerAs:"vm",onEnter:r}).state("main.login",{url:"/login",templateUrl:"app/pages/login/login.html",controller:"LoginController",controllerAs:"vm",params:{bodyClasses:"hold-transition login-page"},onEnter:["$timeout","$state","models",function(e,t,r){r.currentUser.loggedIn&&e(function(){t.go("main.admin.dashboard")})}]}).state("main.register",{url:"/register",templateUrl:"app/pages/register/register.html",controller:"RegisterController",controllerAs:"vm",params:{bodyClasses:"hold-transition register-page"},onEnter:["$timeout","$state","models",function(e,t,r){r.currentUser.loggedIn&&e(function(){t.go("main.admin.dashboard")})}]}).state("main.logout",{url:"/logout",onEnter:["frispoApi","$state","toastr","models","longTermMemory","users",function(e,t,r,n,a,o){o.logout(n.currentUser)}]}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("frispo").config(e)}(),function(){"use strict";angular.module("frispo").constant("malarkey",malarkey).constant("moment",moment).constant("defaultBodyClasses","skin-green fixed sidebar-mini").constant("usersApiUrl","http://52.50.82.14:9763/FrispoUsers/1.0.0/api/users/1.0.0/frispo/base/0/users").constant("eventsApiUrl","https://52.50.82.14:8243/api/events/1.0.0/frispo/base/0").constant("teamsApiUrl","https://52.50.82.14:8243/api/teams/1.0.0/football/base/0").constant("matchesApiUrl","https://52.50.82.14:8243/api/matches/1.0.0/football/base/0").constant("consumerKey","K9khQffyZfMXjF6fEIN1GflFDToa").constant("consumerSecret","uBRbkCgAtVmw8f_5qTYYcqAO7iMa")}(),function(){"use strict";function e(e,t,r,n,a){e.debugEnabled(!0),r.classNameFilter(/animate/),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!1,t.progressBar=!1,n.html5Mode(!0),n.hashPrefix("!"),a.setLocale("it_IT"),a.setInitParams({appId:"1025958327498737"})}e.$inject=["$logProvider","toastrConfig","$animateProvider","$locationProvider","ezfbProvider"],angular.module("frispo").config(e)}(),angular.module("frispo").run(["$templateCache",function(e){e.put("app/components/frispoFooter/frispoFooter.html",'<footer class=main-footer><div class="pull-right hidden-xs"><b>Version</b> 1.0.0</div><strong>Copyright © 2014-2016 <a href=http://andreaciaccia.it>Andrea Ciaccia</a>.</strong> All rights reserved.</footer>'),e.put("app/components/frispoHeader/frispoHeader.html",'<header class=main-header><a ui-sref=main.admin.dashboard class=logo><!-- mini logo for sidebar mini 50x50 pixels --> <span class=logo-mini><b>F</b>O</span><!-- logo for regular state and mobile devices --> <span class=logo-lg><b>Frispo</b></span></a><nav class="navbar navbar-static-top" role=navigation><!-- Sidebar toggle button--> <a href=# class=sidebar-toggle data-toggle=offcanvas role=button><span class=sr-only>Toggle navigation</span> </a><!-- Navbar Right Menu --><div class=navbar-custom-menu><ul class="nav navbar-nav"><li class="dropdown user user-menu"><a href=# class=dropdown-toggle data-toggle=dropdown aria-expanded=false><span class=hidden-xs>{{ header.models.currentUser.displayName }}</span></a><ul class=dropdown-menu><!-- User image --><li class=user-header><img src=assets/images/angular.png class=img-circle alt="User Image"><p>{{ header.models.currentUser.displayName }}</p></li><!-- Menu Footer--><li class=user-footer><div class=pull-left><a href=main.admin.profile class="btn btn-default btn-flat">Profile</a></div><div class=pull-right><a ui-sref=main.logout class="btn btn-default btn-flat">Sign out</a></div></li></ul></li></ul></div></nav></header>'),e.put("app/components/frispoSidebar/frispoSidebar.html",'<div class=main-sidebar><!-- Inner sidebar --><div class=sidebar><!-- Sidebar Menu --><ul class=sidebar-menu><li class=header>Menu</li><li class=treeview ng-class="{active: sidebar.state.current.name === \'main.admin.dashboard\'}"><a ui-sref=main.admin.dashboard><i class="fa fa-tachometer" aria-hidden=true></i><span>Dashboard</span></a></li><li class=treeview><a href=#><i class="fa fa-futbol-o" aria-hidden=true></i><span>Gestisci</span></a><ul class="treeview-menu menu-open" style="display: block"><li ng-class="{active: sidebar.state.current.name === \'main.admin.createEvent\'}"><a ui-sref=main.admin.createEvent><i class="fa fa-circle-o"></i> Crea Evento Smart</a></li><li ng-class="{active: sidebar.state.current.name === \'main.admin.events\'}"><a ui-sref=main.admin.events><i class="fa fa-circle-o"></i> Eventi</a></li><li ng-class="{active: sidebar.state.current.name === \'main.admin.teams\'}"><a ui-sref=main.admin.teams><i class="fa fa-circle-o"></i> Squadre</a></li><li ng-class="{active: sidebar.state.current.name === \'main.admin.calendar\'}"><a ui-sref=main.admin.calendar><i class="fa fa-circle-o"></i> Calendario</a></li><li ng-class="{active: sidebar.state.current.name === \'main.admin.scoreboard\'}"><a ui-sref=main.admin.scoreboard><i class="fa fa-circle-o"></i> Classifica</a></li></ul></li><li class=treeview ng-class="{active: sidebar.state.current.name === \'main.admin.news\'}"><a ui-sref=main.admin.news><i class="fa fa-newspaper-o"></i> <span>News</span></a></li><li class=treeview ng-class="{active: sidebar.state.current.name === \'main.admin.disciplinary\'}"><a ui-sref=disciplinary><i class="fa fa-fire"></i> <span>Disciplinare</span></a><ul class=treeview-menu style="display: none"><li><a href=pages/layout/top-nav.html><i class="fa fa-circle-o"></i> Ammoniti</a></li><li><a href=pages/layout/boxed.html><i class="fa fa-circle-o"></i> Diffidati</a></li><li><a href=pages/layout/fixed.html><i class="fa fa-circle-o"></i> Squalificati</a></li><li><a href=pages/layout/collapsed-sidebar.html><i class="fa fa-circle-o"></i> Ammende</a></li></ul></li></ul><!-- /.sidebar-menu --></div><!-- /.sidebar --></div><!-- /.main-sidebar -->'),
e.put("app/pages/admin/admin.html","<div class=wrapper><frispo-header></frispo-header><frispo-sidebar></frispo-sidebar><div class=content-wrapper><div ui-view></div></div><frispo-footer></frispo-footer></div>"),e.put("app/pages/calendar/calendar.html",'<div class=calendar><section class=content-header><h1>Calendario <small>incontri</small></h1></section><section class=content><div class=row><div class=col-xs-12><div class="box box-success"><div class=box-header><div class=row><div class="col-sm-4 col-md-3 col-lg-2"><div class=form-group><label for=selectEvent>Seleziona un evento</label><select id=selectEvent ng-model=vm.models.currentEvent name=event class=form-control ng-options="event as (event.evenName + \' (\' + event.evenCode + \')\') for event in vm.models.events track by event.evenId" ng-change=vm.updateCurrentEvent()></select></div></div><div class="col-sm-4 col-md-3 col-lg-2"><div class=form-group><label for=selectDay>Seleziona una giornata</label><select id=selectDay ng-model=vm.models.currentEvent.currentDay name=day class=form-control ng-options="day as (day.matcDayName) for day in (vm.models.currentEvent.matchDays) track by day.matcDayId" ng-change=vm.updateMatchDay()></select></div></div></div></div><div class="box-body table-responsive no-padding" ng-show=vm.models.currentEvent.currentDay.matches><table class="table table-hover"><tr><th>Giornata</th><th>Squadra Casa</th><th>Squadra Ospite</th><th>Goal Casa</th><th>Goal Ospiti</th><th>Data Partita</th><th>Ora</th><th>Girone</th><th>Giocata</th></tr><tr ng-repeat="match in vm.models.currentEvent.currentDay.matches"><td>Giornata {{ match.matcDayId }}</td><td>{{ match.matcTeamA }}</td><td>{{ match.matcTeamB }}</td><td>{{ match.matcScoreTeamA }}</td><td>{{ match.matcScoreTeamB }}</td><td>{{ match.matcDateMatch }}</td><td>{{ match.matcTime }}</td><td>{{ match.matcNameGroups }}</td><td>{{ match.matcFlgPlay === 1 ? \'si\' : \'no\' }}</td></tr></table></div><div ng-show=vm.loading class=overlay><i class="fa fa-refresh fa-spin"></i></div></div></div></div></section></div>'),e.put("app/pages/createEvent/createEvent.html",'<section class=create-event><section class=content-header><h1>Crea un evento <small>&nbsp;{{ vm.wizard | wizardTextProgress }}</small></h1><wizard-progress wizard=vm.wizard></wizard-progress></section><section class=content><wizard-step-box step=1 wizard=vm.wizard title="Impostazioni evento"><form id=formStep1 name=formStep1 ng-submit=vm.step1Done()><div class=row><div class=col-sm-6><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.name.$dirty && formStep1.name.$invalid}"><label for=formStep1-name>Nome</label><input id=formStep1-name ng-model=vm.step1.name name=name type=text class=form-control placeholder="Inserisci il nome dell\'evento" required> <span ng-show=formStep1.name.$dirty ng-messages=formStep1.name.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.desc.$dirty && formStep1.desc.$invalid}"><label for=formStep1-desc>Descrizione</label><textarea id=formStep1-desc rows=5 ng-model=vm.step1.desc name=desc class=form-control placeholder="Inserisci una descrizione dell\'evento"></textarea><span ng-show=formStep1.desc.$dirty ng-messages=formStep1.desc.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.address.$dirty && formStep1.address.$invalid}"><label for=formStep1-address>Indirizzo</label><input id=formStep1-address ng-model=vm.step1.address name=address type=text class=form-control placeholder="Inserisci l\'indirizzo principale dell\'evento" required> <span ng-show=formStep1.address.$dirty ng-messages=formStep1.address.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.type.$dirty && formStep1.type.$invalid}"><label for=formStep1-type>Tipologia</label><select id=formStep1-type ng-init="vm.step1.type = 0" ng-model=vm.step1.type name=type class=form-control><option ng-selected="vm.step1.type === 0" value=0>Campionato italiana</option><option ng-selected="vm.step1.type === 1" value=1>Torneo a gironi</option></select><span ng-show=formStep1.type.$dirty ng-messages=formStep1.type.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class=col-sm-6><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.organizer.$dirty && formStep1.organizer.$invalid}"><label for=formStep1-organizer>Organizzatore</label><input id=formStep1-organizer ng-model=vm.step1.organizer name=organizer type=text class=form-control placeholder="Inserisci il nome dell\'organizzatore" required> <span ng-show=formStep1.organizer.$dirty ng-messages=formStep1.organizer.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.telephone.$dirty && formStep1.telephone.$invalid}"><label for=formStep1-telephone>Telefono organizzatore</label><input id=formStep1-telephone ng-model=vm.step1.telephone name=telephone type=text class=form-control placeholder="Inserisci il numero di telefono dell\'organizzatore" required> <span ng-show=formStep1.telephone.$dirty ng-messages=formStep1.telephone.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.email.$dirty && formStep1.email.$invalid}"><label for=formStep1-email>E-mail organizzatore</label><input id=formStep1-email ng-model=vm.step1.email name=email type=email class=form-control placeholder="Inserisci l\'indirizzo e-mail dell\'organizzatore" required> <span ng-show=formStep1.email.$dirty ng-messages=formStep1.email.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span> <span ng-message=email>Inserire un indirizzo email valido</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.dates.$dirty && formStep1.dates.$invalid}"><label for=formStep1-dates>Periodo</label><div class=input-group><div class=input-group-addon><i class="fa fa-calendar"></i></div><input id=formStep1-dates ng-model=vm.step1.dates model=vm.step1.dates name=dates type=text class=form-control placeholder="Inserisci la data di inizio e la data di fine" datepicker=range required></div><!-- /.input group --> <span ng-show=formStep1.dates.$dirty ng-messages=formStep1.dates.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep1.formula.$dirty && formStep1.formula.$invalid}"><label for=formStep1-formula>Formula</label><select id=formStep1-formula ng-init="vm.step1.formula = 0" ng-model=vm.step1.formula name=formula class=form-control placeholder="Inserisci la formula desiderata"><option ng-selected="vm.step1.formula === 0" value=0>Anadata e ritorno</option><option ng-selected="vm.step1.formula === 1" value=1>Solo andata</option></select><span ng-show=formStep1.formula.$dirty ng-messages=formStep1.formula.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><!-- /.col --></div><!-- /.row --><div class=pull-right><input type=submit class="btn btn-success" value=Continua></div></form></wizard-step-box><wizard-step-box step=2 wizard=vm.wizard title="Aggiungi squadre"><form id=formStep2 name=formStep2 ng-submit=vm.step2Done()><div class=row><div ng-if="vm.step1.type == \'1\' && !vm.forceManualRounds"><div class=col-sm-6><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2.roundType.$dirty && formStep2.roundType.$invalid}"><label for=formStep2-roundType>Inserimento Gironi</label><select id=formStep2-roundType ng-init="vm.step2.roundType = 0" ng-model=vm.step2.roundType name=roundType class=form-control ng-change=vm.initDefaultTeams()><option value=0>Manuale</option><option value=1>Automatico</option></select><span ng-show=formStep2.roundType.$dirty ng-messages=formStep2.roundType.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class=col-sm-6 ng-if="vm.step2.roundType == 1"><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2.roundNumber.$dirty && formStep2.roundNumber.$invalid}"><label for=formStep2-roundNumber>Numero di gironi</label><input id=formStep2-roundNumber ng-model=team.roundNumber name=roundNumber type=text class=form-control placeholder="Inserisci il numero di gironi dell\'evento" required> <span ng-show=formStep2.roundNumber.$dirty ng-messages=formStep2.roundNumber.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div></div><div class=clearfix></div><div class=col-sm-6 ng-repeat="team in vm.step2.teams"><div class="panel panel-default"><div class=panel-heading>Squadra {{ $index+1 }} <button tabindex=-1 type=button class=close ng-click=vm.removeTeam($index)><span>&times;</span></button></div><div class=panel-body><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2[\'name\' + ($index+1)].$dirty && formStep2[\'name\' + ($index+1)].$invalid}"><label for=formStep2-name{{$index+1}}>Nome</label><input id=formStep2-name{{$index+1}} ng-model=team.name name=name{{$index+1}} type=text class=form-control placeholder="Inserisci il nome della squadra" required> <span ng-show="formStep2[\'name\' + ($index+1)].$dirty" ng-messages="formStep2[\'name\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2[\'desc\' + ($index+1)].$dirty && formStep2[\'desc\' + ($index+1)].$invalid}"><label for=formStep2-desc{{$index+1}}>Descrizione</label><input id=formStep2-desc{{$index+1}} ng-model=team.desc name=desc{{$index+1}} type=text class=form-control placeholder="Inserisci il luogo preferito della squadra per le partite" required> <span ng-show="formStep2[\'desc\' + ($index+1)].$dirty" ng-messages="formStep2[\'desc\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2[\'captain\' + ($index+1)].$dirty && formStep2[\'captain\' + ($index+1)].$invalid}"><label for=formStep2-captain{{$index+1}}>Capitano</label><input id=formStep2-captain{{$index+1}} ng-model=team.captain name=captain{{$index+1}} type=text class=form-control placeholder="Inserisci il nome del capitano della squadra" required> <span ng-show="formStep2[\'captain\' + ($index+1)].$dirty" ng-messages="formStep2[\'captain\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2[\'phone\' + ($index+1)].$dirty && formStep2[\'phone\' + ($index+1)].$invalid}"><label for=formStep2-phone{{$index+1}}>Telefono</label><input id=formStep2-phone{{$index+1}} ng-model=team.phone name=phone{{$index+1}} type=text class=form-control placeholder="Inserisci il numero di telefono della squadra" required> <span ng-show="formStep2[\'phone\' + ($index+1)].$dirty" ng-messages="formStep2[\'phone\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2[\'time\' + ($index+1)].$dirty && formStep2[\'time\' + ($index+1)].$invalid}"><label for=formStep2-time{{$index+1}}>Orario preferito</label><input id=formStep2-time{{$index+1}} ng-model=team.time name=time{{$index+1}} type=text class=form-control timepicker placeholder="Inserisci l\'orario preferito della squadra per le partite" required> <span ng-show="formStep2[\'time\' + ($index+1)].$dirty" ng-messages="formStep2[\'time\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': formStep2[\'place\' + ($index+1)].$dirty && formStep2[\'place\' + ($index+1)].$invalid}"><label for=formStep2-place{{$index+1}}>Luogo preferito</label><input id=formStep2-place{{$index+1}} ng-model=team.place name=place{{$index+1}} type=text class=form-control placeholder="Inserisci il luogo preferito della squadra per le partite" required> <span ng-show="formStep2[\'place\' + ($index+1)].$dirty" ng-messages="formStep2[\'place\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div ng-if="vm.step2.roundType == 0" class="form-group has-feedback" ng-class="{\'has-error\': formStep2[\'round\' + ($index+1)].$dirty && formStep2[\'round\' + ($index+1)].$invalid}"><label for=formStep2-round{{$index+1}}>Girone</label><select id=formStep2-round{{$index+1}} ng-init="team.round = \'A\'" ng-model=team.round name=round{{$index+1}} class=form-control ng-options="roundName as roundName for roundName in vm.roundNames track by roundName" required></select><span ng-show="formStep2[\'round\' + ($index+1)].$dirty" ng-messages="formStep2[\'round\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div></div></div><div class=clearfix></div><div class=col-md-6><a role=button ng-click=vm.addTeam() class="btn btn-default btn-block" ng-show=vm.step2.roundType>Aggiungi Squadra</a></div></div><div class=pull-right><a role=button class="btn btn-default" ng-click=vm.wizard.prev()>Indietro</a> <input type=submit class="btn btn-success" value=Continua></div></form></wizard-step-box><wizard-step-box step=3 wizard=vm.wizard title=Riepilogo><form id=formStep3 name=formStep3 ng-submit=vm.submitWizard()><div class=row><div class=col-md-6><div class=form-group><label>Nome</label><p class=form-control-static>{{ vm.step1.name }}</p></div><div class=form-group><label>Descrizione</label><p class=form-control-static>{{ vm.step1.desc }}</p></div><div class=form-group><label>Indirizzo</label><p class=form-control-static>{{ vm.step1.address }}</p></div><div class=form-group><label>Tipologia</label><p class=form-control-static>{{ vm.step1.type == \'1\' ? \'Torneo a gironi\' : \'Campionato Italiana\' }}</p></div><div class=form-group><label>Numero di squadre</label><p class=form-control-static>{{ vm.step2.teams.length }}</p></div></div><div class=col-md-6><div class=form-group><label>Organizzatore</label><p class=form-control-static>{{ vm.step1.organizer }}</p></div><div class=form-group><label>Telefono organizzatore</label><p class=form-control-static>{{ vm.step1.telephone }}</p></div><div class=form-group><label>E-mail organizzatore</label><p class=form-control-static>{{ vm.step1.email }}</p></div><div class=form-group><label>Perioto</label><p class=form-control-static>{{ vm.step1.dates }}</p></div><div class=form-group><label>Formula</label><p class=form-control-static>{{ vm.step1.formula == \'1\' ? \'Solo andata\' : \'Andata e Ritorno\' }}</p></div></div></div><div class=pull-right><a role=button class="btn btn-default" ng-click=vm.wizard.prev()>Indietro</a> <input type=submit class="btn btn-success" value=Conferma></div></form></wizard-step-box></section></section>'),e.put("app/pages/dashboard/dashboard.html","<div class=dashboard>Dashboard page</div>"),e.put("app/pages/disciplinary/disciplinary.html","<div class=disciplinary>disciplinary page</div>"),e.put("app/pages/events/events.html",'<div class="content events"><div class=row><div class=col-xs-12><div class="box box-default" ng-show="vm.models.events.length === 0"><div class=box-header><div class=box-title>Eventi</div></div><div class=box-body>Non sono stati trovati eventi. <a ui-sref=main.admin.createEvent>Creane uno ora</a>.</div></div><div class="box {{ tableFilter.boxClass }}" ng-repeat="tableFilter in vm.tableFilters" ng-show="(vm.models.events | filter:tableFilter.eventFilter).length > 0"><div class=box-header><h3 class=box-title>{{ tableFilter.title }}</h3><div class=box-tools><div class="input-group input-group-sm" style="width: 150px"><input ng-model=tableFilter.searchFilter.search type=text name=table_search class="form-control pull-right" placeholder=Search><div class=input-group-btn><button type=submit class="btn btn-default"><i class="fa fa-search"></i></button></div></div></div></div><!-- /.box-header --><div class="box-body table-responsive"><table class=table ng-init="vm.formScopes = []"><tbody><tr><th>Nome</th><th>Evento</th><th>Formula</th><th>Regione</th><th>Giornata corrente</th><th></th></tr><tr ng-repeat-start="event in vm.models.events | filter:tableFilter.eventFilter | filter:tableFilter.searchFilter" event-show=event></tr><tr ng-repeat-end event-edit=event></tr></tbody></table></div><!-- /.box-body --></div><!-- /.box --></div></div></div>'),e.put("app/pages/login/login.html",'<div class="login login-box"><div class=login-logo><b>Frispo</b></div><!-- /.login-logo --><div class=login-box-body><p class=login-box-msg>Sign in to start your session</p><form id=loginForm name=loginForm ng-submit=vm.login()><div class="form-group has-feedback" ng-class="{\'has-error\': loginForm.email.$dirty && loginForm.email.$invalid}"><input ng-model=vm.user.email name=email type=email class=form-control placeholder=Email required> <span class="glyphicon glyphicon-envelope form-control-feedback"></span> <span ng-show=loginForm.email.$dirty ng-messages=loginForm.email.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span> <span ng-message=email>Inserire un indirizzo email valido</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': loginForm.password.$dirty && loginForm.password.$invalid}"><input ng-model=vm.user.password name=password type=password class=form-control placeholder=Password required> <span class="glyphicon glyphicon-lock form-control-feedback"></span> <span ng-show=loginForm.password.$dirty ng-messages=loginForm.password.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class=row><!-- /.col --><div class="col-xs-offset-8 col-xs-4"><button ng-disabled=loginForm.$invalid type=submit class="btn btn-primary btn-block btn-flat">Sign In</button></div><!-- /.col --></div></form><div class="social-auth-links text-center"><p>- OR -</p><a ng-click=vm.loginFacebook() class="btn btn-block btn-social btn-facebook btn-flat"><i class="fa fa-facebook"></i> Sign in using Facebook</a></div><!-- /.social-auth-links --> <a href=#>I forgot my password</a><br><a ui-sref=main.register class=text-center>Register a new membership</a></div><!-- /.login-box-body --></div>'),e.put("app/pages/main/main.html","<div class=animate ui-view></div>"),e.put("app/pages/news/news.html","<div class=news>news page</div>"),e.put("app/pages/register/register.html",'<div class=register-box><div class=register-logo><b>Frispo</b></div><div class=register-box-body><p class=login-box-msg>Register a new membership</p><form id=registerForm name=registerForm ng-submit=vm.register()><div class="form-group has-feedback" ng-class="{\'has-error\': registerForm.email.$dirty && registerForm.email.$invalid}"><input ng-model=vm.user.email name=email type=email class=form-control placeholder=Email required> <span class="glyphicon glyphicon-envelope form-control-feedback"></span> <span ng-show=registerForm.email.$dirty ng-messages=registerForm.email.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span> <span ng-message=email>Inserire un indirizzo email valido</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': registerForm.password.$dirty && registerForm.password.$invalid}"><input ng-model=vm.user.password name=password type=password class=form-control placeholder=Password required minlength=8> <span class="glyphicon glyphicon-lock form-control-feedback"></span> <span ng-show=registerForm.password.$dirty ng-messages=registerForm.password.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span> <span ng-message=minlength>La password deve essere lunga almeno 8 caratteri</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': registerForm.retypePassword.$dirty && registerForm.retypePassword.$invalid}"><input ng-model=vm.user.retypePassword name=retypePassword type=password class=form-control placeholder="Retype password" required compare-to=vm.user.password> <span class="glyphicon glyphicon-log-in form-control-feedback"></span> <span ng-show=registerForm.retypePassword.$dirty ng-messages=registerForm.retypePassword.$error class=help-block role=alert><span ng-message=compareTo>Le due password non coincidono</span></span></div><div class=row><div class=col-xs-8><div class="checkbox icheck"><label><div class=icheckbox_square-blue aria-checked=false aria-disabled=false style="position: relative"><input type=checkbox style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; border: 0px; opacity: 0; background: rgb(255, 255, 255)"><ins class=iCheck-helper style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; border: 0px; opacity: 0; background: rgb(255, 255, 255)"></ins></div>I agree to the <a href=#>terms</a></label></div></div><!-- /.col --><div class=col-xs-4><button ng-disabled=registerForm.$invalid type=submit class="btn btn-primary btn-block btn-flat">Register</button></div><!-- /.col --></div></form><div class="social-auth-links text-center"><p>- OR -</p><a href=# class="btn btn-block btn-social btn-facebook btn-flat"><i class="fa fa-facebook"></i> Sign up using Facebook</a></div><a ui-sref=main.login class=text-center>I already have a membership</a></div><!-- /.form-box --></div><!-- /.register-box -->'),e.put("app/pages/scoreboard/scoreboard.html","<div class=scoreboard>scoreboard page</div>"),e.put("app/pages/teams/teams.html",'<div class=teams><section class=content-header><h1>Squadre <small>partecipanti</small></h1></section><section class=content><div class=row><div class=col-xs-12><div class="box box-success"><div class=box-header><div class=row><div class="col-sm-4 col-md3 col-lg-2"><div class=form-group><label for=selectEvent><select id=selectEvent ng-model=vm.models.currentEvent name=event class=form-control ng-options="event as (event.evenName + \' (\' + event.evenCode + \') \') for event in vm.models.events track by event.evenId" ng-change=vm.updateCurrentEvent()></select></label></div></div></div></div><div class="box-body table-responsive no-padding" ng-show=vm.models.currentEvent.teams><table class="table table-hover"><tr><th>Nome</th><th>Ora gioco</th><th>Campo di gioco</th><th>Nome girone</th></tr><tr ng-repeat="team in vm.models.currentEvent.teams"><td>{{ team.teamName }}</td><td>{{ team.teamTime }}</td><td>{{ team.teamPlace }}</td><td>{{ team.teamGroups }}</td></tr></table></div></div></div></div></section></div>'),e.put("app/components/wizard/wizardProgress/wizardProgress.html","<div class=wizard-progress><i ng-repeat=\"i in wizardProgress.range(wizardProgress.wizard.totalSteps) track by $index\" class=fa ng-class=\"{\n      'fa-circle': $index+1 === wizardProgress.wizard.currentStep,\n      'fa-circle-thin': $index+1 !== wizardProgress.wizard.currentStep\n    }\">&nbsp;</i></div>"),e.put("app/components/wizard/wizardStepBox/wizardStepBox.html",'<div class="wizard-step-box box" ng-class="{\'box-success\': wizardStepBox.active, \'box-default\': !wizardStepBox.active}"><div class="box-header with-border"><h3 class=box-title>{{ wizardStepBox.title }}</h3><div class="box-tools pull-right hidden"><button class="btn btn-box-tool" data-widget=collapse><i class="fa fa-minus"></i></button></div></div><!-- /.box-header --><div class=box-body><ng-transclude></ng-transclude></div><!-- /.box-body --><div ng-show="wizardStepBox.active && wizardStepBox.wizard.loading" class=overlay><i class="fa fa-refresh fa-spin"></i></div></div><!-- /.box -->'),e.put("app/pages/events/destroy/destroy.html",'<div class=modal-header><a role=button class=close ng-click=eventDestroy.cancel()><span aria-hidden=true>×</span></a><h3 class=modal-title>Sei sicuro?</h3></div><div class=modal-body>Se elimini questo evento, verranno eliminati anche tutti dati relativi alle squadre e alle partite associate.<br>Questa operazione <strong>non è reversibile</strong>.</div><div class=modal-footer><a role=button class="btn btn-outline pull-left" ng-click=eventDestroy.cancel()>Annulla</a> <a role=button class="btn btn-outline" ng-click=eventDestroy.ok()>Elimina evento</a></div>'),e.put("app/pages/events/edit/edit.html",'<tr><td colspan=8 class="hidden-row active"><div id=event-edit-form-{{eventEdit.event.evenId}} class="accordion-body collapse event-edit-form-{{eventEdit.event.evenId}}"><form class=event-edit-form name=eventEditForm ng-submit=eventEdit.submit()><div class=row><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.name.$dirty && eventEditForm.name.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-name>Modifica Nome</label><input id=eventEditForm{{eventEdit.event.evenId}}-name ng-model=eventEdit.form.name ng-init="eventEdit.form.name = eventEdit.event.evenName" name=name type=text class=form-control placeholder="Inserisci il nome dell\'evento" required> <span ng-show=eventEditForm.name.$dirty ng-messages=eventEditForm.name.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.desc.$dirty && eventEditForm.desc.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-desc>Modifica Descrizione</label><input id=eventEditForm{{eventEdit.event.evenId}}-desc ng-model=eventEdit.form.desc ng-init="eventEdit.form.desc = eventEdit.event.evenDescription" name=desc type=text class=form-control placeholder="Inserisci una descrizione dell\'evento" required> <span ng-show=eventEditForm.desc.$dirty ng-messages=eventEditForm.desc.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.currentDay.$dirty && eventEditForm.currentDay.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-currentDay>Modifica Giornata Corrente</label><select id=eventEditForm{{eventEdit.event.evenId}}-currentDay ng-model=eventEdit.form.currentDay ng-init="eventEdit.form.currentDay = eventEdit.event.evenCurrentDay" name=currentDay class=form-control ng-options="day as day.matcDayName for day in eventEdit.event.matchDays track by day.matcDayId" required></select><span ng-show=eventEditForm.currentDay.$dirty ng-messages=eventEditForm.currentDay.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.dates.$dirty && eventEditForm.dates.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-dates>Modifica Periodo</label><div class=input-group><div class=input-group-addon><i class="fa fa-calendar"></i></div><input id=eventEditForm{{eventEdit.event.evenId}}-dates ng-model=eventEdit.form.dates model=eventEdit.form.dates ng-init="eventEdit.form.dates = eventEdit.event.dates" name=dates type=text class=form-control placeholder="Inserisci la data di inizio e la data di fine" datepicker=range required></div><span ng-show=eventEditForm.dates.$dirty ng-messages=eventEditForm.dates.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.address.$dirty && eventEditForm.address.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-address>Modifica Indirizzo</label><input id=eventEditForm{{eventEdit.event.evenId}}-address ng-model=eventEdit.form.address ng-init="eventEdit.form.address = eventEdit.event.evenAddress" name=address type=text class=form-control placeholder="Inserisci l\'indirizzo dell\'evento" required> <span ng-show=eventEditForm.address.$dirty ng-messages=eventEditForm.address.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.region.$dirty && eventEditForm.region.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-region>Modifica Regione</label><select id=eventEditForm{{eventEdit.event.evenId}}-region ng-model=eventEdit.form.region ng-init="eventEdit.form.region = eventEdit.event.regions" name=region class=form-control ng-options="region as region.regiName for region in eventEdit.models.regions track by region.regiId" required></select><span ng-show=eventEditForm.region.$dirty ng-messages=eventEditForm.region.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.telephone.$dirty && eventEditForm.telephone.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-telephone>Modifica Telefono Organizzatore</label><input id=eventEditForm{{eventEdit.event.evenId}}-telephone ng-model=eventEdit.form.telephone ng-init="eventEdit.form.telephone = eventEdit.event.evenMobilePhone" name=telephone type=text class=form-control placeholder="Inserisci il numero di telefono dell\'organizzatore dell\'evento" required> <span ng-show=eventEditForm.telephone.$dirty ng-messages=eventEditForm.telephone.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class="col-sm-6 col-md-4 col-lg-3"><div class="form-group has-feedback" ng-class="{\'has-error\': eventEditForm.email.$dirty && eventEditForm.email.$invalid}"><label for=eventEditForm{{eventEdit.event.evenId}}-email>Modifica E-mail Organizzatore</label><input id=eventEditForm{{eventEdit.event.evenId}}-email ng-model=eventEdit.form.email ng-init="eventEdit.form.email = eventEdit.event.evenEmail" name=email type=text class=form-control placeholder="Inserisci l\'e-mail dell\'organizzatore dell\'evento" required> <span ng-show=eventEditForm.email.$dirty ng-messages=eventEditForm.email.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div></div><div class=row><div class=col-xs-12><div class=pull-left><a role=button class="btn btn-warning" ng-click=eventEdit.recreateCalendar()>Ricrea calendario</a> <a role=button class="btn btn-warning" ng-click=eventEdit.publish() ng-show="eventEdit.event.evenStatoEvento != 1">Pubblica evento</a> <a role=button class="btn btn-warning" ng-click=eventEdit.unpublish() ng-show="eventEdit.event.evenStatoEvento == 1">Imposta come offline</a></div><div class=pull-right><div><a role=button class="btn btn-default" ng-click=eventEdit.cancel()>Annulla</a> <input type=submit value=Salva class="btn btn-success"></div></div></div></div></form></div></td></tr>'),e.put("app/pages/events/edit/recreateCalendar.html",'<div class=modal-header><a role=button class=close ng-click=eventRecreateCalendar.cancel()><span aria-hidden=true>×</span></a><h3 class=modal-title>Sei sicuro?</h3></div><div class=modal-body>Tutte le partite e le giornate saranno ricreate. Quelle presenti ora verranno eliminate.</div><div class=modal-footer><a role=button class="btn btn-outline pull-left" ng-click=eventRecreateCalendar.cancel()>Annulla</a> <a role=button class="btn btn-outline" ng-click=eventRecreateCalendar.ok()>Ricrea calendario dell\'evento</a></div>'),
e.put("app/pages/events/show/show.html",'<tr><td>{{ eventShow.event.evenName }}</td><td>{{ eventShow.event.evenTypePretty }}</td><td>{{ eventShow.event.evenFormulaPretty }}</td><td>{{ eventShow.event.regions.regiName }}</td><td>{{ eventShow.event.evenDayActive }}</td><td><div class="pull-right no-opacity opacity-transition" ng-class="{ \'full-opacity\': eventShow.showControls }"><a role=button class="btn btn-sm btn-default accordion-toggle" data-toggle=collapse data-target=.event-edit-form-{{eventShow.event.evenId}}><i class="fa fa-pencil"></i> </a><a role=button class="btn btn-sm btn-danger" ng-click=eventShow.destroy()><i class="fa fa-trash"></i></a></div></td></tr>')}]);
//# sourceMappingURL=../maps/scripts/app-b02b97de49.js.map
